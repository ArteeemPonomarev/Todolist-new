(this["webpackJsonpto-do-1"]=this["webpackJsonpto-do-1"]||[]).push([[0],{105:function(t,e,r){},106:function(t,e,r){},132:function(t,e,r){"use strict";r.r(e);var a={};r.r(a),r.d(a,"selectIsLoggedIn",(function(){return Ot}));var n=r(0),s=r.n(n),i=r(10),c=r.n(i);r(105),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o,d,u=r(36),l=(r(106),r(179)),p=r(180),f=r(171),b=r(134),j=r(174),h=r(183),O=r(181),v=r(21),x=r(12),m=r(8),g=r.n(m),k=r(17),y=r(83),I=r.n(y).a.create({baseURL:"https://social-network.samuraijs.com/api/1.1/",withCredentials:!0,headers:{"API-KEY":"9b6aada9-34d3-4135-a32f-7e9aacf37623"}}),w=function(){return I.get("todo-lists")},C=function(t){return I.post("todo-lists",{title:t})},T=function(t){return I.delete("todo-lists/".concat(t))},S=function(t,e){return I.put("todo-lists/".concat(t),{title:e})},A=function(t){return I.get("todo-lists/".concat(t,"/tasks"))},E=function(t,e){return I.post("todo-lists/".concat(t,"/tasks"),{title:e})},L=function(t,e){return I.delete("todo-lists/".concat(t,"/tasks/").concat(e))},F=function(t,e,r){return I.put("todo-lists/".concat(t,"/tasks/").concat(e),r)},P=function(t){return I.post("auth/login",t)},D=function(){return I.get("auth/me")},R=function(){return I.delete("auth/login")},z=r(15),N={setAppStatus:Object(z.b)("appActions/setAppStatus"),setAppError:Object(z.b)("appActions/setAppError")},V=function(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return r&&e.dispatch(N.setAppError({error:t.messages.length?t.messages[0]:"Some error occurred"})),e.dispatch(N.setAppStatus({status:"failed"})),e.rejectWithValue({errors:t.messages,fieldsErrors:t.fieldsErrors})},M=function(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return r&&e.dispatch(N.setAppError({error:t.message?t.message:"Some error occurred"})),e.dispatch(N.setAppStatus({status:"failed"})),e.rejectWithValue({errors:[t.message],fieldsErrors:void 0})},W=N.setAppStatus,q=Object(z.c)("todolists/fetchTodolists",function(){var t=Object(k.a)(g.a.mark((function t(e,r){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.dispatch(W({status:"loading"})),t.prev=1,t.next=4,w();case 4:return a=t.sent,r.dispatch(W({status:"succeeded"})),t.abrupt("return",{todolists:a.data});case 9:return t.prev=9,t.t0=t.catch(1),t.abrupt("return",M(t.t0,r));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,r){return t.apply(this,arguments)}}()),B=Object(z.c)("todolists/removeTodolist",function(){var t=Object(k.a)(g.a.mark((function t(e,r){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.dispatch(W({status:"loading"})),r.dispatch($({todolistId:e,entityStatus:"loading"})),t.prev=2,t.next=5,T(e);case 5:if(0!==(a=t.sent).data.resultCode){t.next=11;break}return r.dispatch(W({status:"succeeded"})),t.abrupt("return",{id:e});case 11:return t.abrupt("return",V(a.data,r,!1));case 12:t.next=17;break;case 14:return t.prev=14,t.t0=t.catch(2),t.abrupt("return",M(t.t0,r,!1));case 17:case"end":return t.stop()}}),t,null,[[2,14]])})));return function(e,r){return t.apply(this,arguments)}}()),H=Object(z.c)("todolists/createTodolist",function(){var t=Object(k.a)(g.a.mark((function t(e,r){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.dispatch(W({status:"loading"})),t.prev=1,t.next=4,C(e);case 4:if(0!==(a=t.sent).data.resultCode){t.next=10;break}return r.dispatch(W({status:"succeeded"})),t.abrupt("return",{todolist:a.data.data.item});case 10:return t.abrupt("return",V(a.data,r,!1));case 11:t.next=16;break;case 13:return t.prev=13,t.t0=t.catch(1),t.abrupt("return",M(t.t0,r,!1));case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e,r){return t.apply(this,arguments)}}()),U=Object(z.c)("todolists/changeTodolistTitle",function(){var t=Object(k.a)(g.a.mark((function t(e,r){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.dispatch(W({status:"loading"})),t.prev=1,t.next=4,S(e.id,e.title);case 4:if(0!==(a=t.sent).data.resultCode){t.next=10;break}return r.dispatch(W({status:"succeeded"})),t.abrupt("return",{id:e.id,title:e.title});case 10:return t.abrupt("return",V(a.data,r));case 11:t.next=16;break;case 13:return t.prev=13,t.t0=t.catch(1),t.abrupt("return",M(t.t0,r,!1));case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e,r){return t.apply(this,arguments)}}()),Z={fetchTodolistsTC:q,deleteTodolistTC:B,createTodolistTC:H,updateTodolistTitleTC:U},J=Object(z.d)({name:"todolists",initialState:[],reducers:{changeTodolistFilter:function(t,e){var r=t.findIndex((function(t){return t.id===e.payload.todoListID}));t[r].filter=e.payload.newFilterValue},changeTodolistEntityStatus:function(t,e){var r=t.findIndex((function(t){return t.id===e.payload.todolistId}));t[r].entityStatus=e.payload.entityStatus}},extraReducers:function(t){t.addCase(q.fulfilled,(function(t,e){return e.payload.todolists.map((function(t){return Object(x.a)(Object(x.a)({},t),{},{filter:"All",entityStatus:"idle"})}))})).addCase(B.fulfilled,(function(t,e){var r=t.findIndex((function(t){return t.id===e.payload.id}));r>-1&&t.splice(r,1)})).addCase(H.fulfilled,(function(t,e){t.unshift(Object(x.a)(Object(x.a)({},e.payload.todolist),{},{filter:"All",entityStatus:"idle"}))})).addCase(U.fulfilled,(function(t,e){var r=t.findIndex((function(t){return t.id===e.payload.id}));t[r].title=e.payload.title}))}}),K=J.actions,$=(K.changeTodolistFilter,K.changeTodolistEntityStatus),_=Object(z.c)("tasks/fetchTasks",function(){var t=Object(k.a)(g.a.mark((function t(e,r){var a,n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.dispatch(N.setAppStatus({status:"loading"})),t.prev=1,t.next=4,A(e);case 4:return a=t.sent,n=a.data.items,r.dispatch(N.setAppStatus({status:"succeeded"})),t.abrupt("return",{tasks:n,todolistId:e});case 10:return t.prev=10,t.t0=t.catch(1),t.abrupt("return",M(t.t0,r));case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,r){return t.apply(this,arguments)}}()),Y=Object(z.c)("tasks/removeTask",function(){var t=Object(k.a)(g.a.mark((function t(e,r){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.dispatch(N.setAppStatus({status:"loading"})),t.prev=1,t.next=4,L(e.todolistId,e.taskId);case 4:return r.dispatch(N.setAppStatus({status:"succeeded"})),t.abrupt("return",{taskId:e.taskId,todolistId:e.todolistId});case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",M(t.t0,r));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,r){return t.apply(this,arguments)}}()),G=Object(z.c)("tasks/createTask",function(){var t=Object(k.a)(g.a.mark((function t(e,r){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.dispatch(N.setAppStatus({status:"loading"})),t.prev=1,t.next=4,E(e.todolistId,e.title);case 4:if(0!==(a=t.sent).data.resultCode){t.next=10;break}return r.dispatch(N.setAppStatus({status:"succeeded"})),t.abrupt("return",a.data.data.item);case 10:return t.abrupt("return",V(a.data,r,!1));case 11:t.next=16;break;case 13:return t.prev=13,t.t0=t.catch(1),t.abrupt("return",M(t.t0,r,!1));case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e,r){return t.apply(this,arguments)}}()),Q=Object(z.c)("tasks/updateTask",function(){var t=Object(k.a)(g.a.mark((function t(e,r){var a,n,s,i;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r.getState(),n=a.tasks[e.todolistId].find((function(t){return t.id===e.taskId}))){t.next=4;break}return t.abrupt("return",r.rejectWithValue("task not found in the state"));case 4:if(!n){t.next=22;break}return s=Object(x.a)({title:n.title,deadline:n.deadline,description:n.description,priority:n.priority,startDate:n.startDate,status:n.status},e.model),r.dispatch(N.setAppStatus({status:"loading"})),t.prev=7,t.next=10,F(e.todolistId,e.taskId,s);case 10:if(0!==(i=t.sent).data.resultCode){t.next=16;break}return r.dispatch(N.setAppStatus({status:"succeeded"})),t.abrupt("return",e);case 16:return t.abrupt("return",V(i.data,r));case 17:t.next=22;break;case 19:return t.prev=19,t.t0=t.catch(7),t.abrupt("return",M(t.t0,r));case 22:case"end":return t.stop()}}),t,null,[[7,19]])})));return function(e,r){return t.apply(this,arguments)}}()),X={fetchTasks:_,removeTask:Y,createTask:G,updateTask:Q},tt=Object(z.d)({name:"tasks",initialState:{},reducers:{},extraReducers:function(t){t.addCase(Z.createTodolistTC.fulfilled,(function(t,e){t[e.payload.todolist.id]=[]})).addCase(Z.deleteTodolistTC.fulfilled,(function(t,e){delete t[e.payload.id]})).addCase(Z.fetchTodolistsTC.fulfilled,(function(t,e){e.payload.todolists.forEach((function(e){t[e.id]=[]}))})).addCase(_.fulfilled,(function(t,e){t[e.payload.todolistId]=e.payload.tasks})).addCase(Y.fulfilled,(function(t,e){var r=t[e.payload.todolistId],a=r.findIndex((function(t){return t.id===e.payload.taskId}));a>-1&&r.splice(a,1)})).addCase(G.fulfilled,(function(t,e){t[e.payload.todoListId].unshift(e.payload)})).addCase(Q.fulfilled,(function(t,e){var r=t[e.payload.todolistId],a=r.findIndex((function(t){return t.id===e.payload.taskId}));a>-1&&(r[a]=Object(x.a)(Object(x.a)({},r[a]),e.payload.model))}))}}),et=r(175),rt=r(133),at=r(48),nt=r(184),st=r(172),it=r(3),ct=s.a.memo((function(t){var e=t.addItem,r=t.disabled,a=void 0!==r&&r,s=Object(n.useState)(""),i=Object(at.a)(s,2),c=i[0],o=i[1],d=Object(n.useState)(null),u=Object(at.a)(d,2),l=u[0],p=u[1],b=function(){var t=c.trim();t?e(t,{setError:p,setTitle:o}):p("Title is required!"),o("")};return Object(it.jsxs)("div",{children:[Object(it.jsx)(nt.a,{disabled:a,variant:"outlined",value:c,onKeyPress:function(t){l&&p(null),"Enter"===t.key&&b()},onChange:function(t){l&&p(null),o(t.currentTarget.value)},label:"Title",error:!!l,helperText:l}),Object(it.jsx)(f.a,{onClick:b,color:"primary",disabled:a,children:Object(it.jsx)(st.a,{})})]})})),ot=s.a.memo((function(t){var e=t.disabled,r=void 0!==e&&e,a=Object(u.a)(t,["disabled"]);console.log("EditableSpan called");var s=Object(n.useState)(!1),i=Object(at.a)(s,2),c=i[0],o=i[1],d=Object(n.useState)(a.title),l=Object(at.a)(d,2),p=l[0],f=l[1];return c?Object(it.jsx)(nt.a,{color:"primary",variant:"standard",value:p,autoFocus:!0,onBlur:function(){o(!1),a.changeTitle(p)},onChange:function(t){f(t.currentTarget.value)}}):Object(it.jsx)("span",{onDoubleClick:function(){r||o(!0)},children:a.title})})),dt=r(173),ut=r(186);!function(t){t[t.New=0]="New",t[t.InProgress=1]="InProgress",t[t.Completed=2]="Completed",t[t.Draft=3]="Draft"}(o||(o={})),function(t){t[t.Low=0]="Low",t[t.Middle=1]="Middle",t[t.Hi=2]="Hi",t[t.Urgently=3]="Urgently",t[t.Later=4]="Later"}(d||(d={}));var lt=r(23),pt=function(){return Object(v.b)()};function ft(t){var e=pt();return Object(n.useMemo)((function(){return Object(lt.b)(t,e)}),[])}var bt=s.a.memo((function(t){var e=ft(mt),r=e.updateTask,a=e.removeTask,s=Object(n.useCallback)((function(){return a({taskId:t.task.id,todolistId:t.todolistId})}),[t.task.id,t.todolistId]),i=Object(n.useCallback)((function(e){r({taskId:t.task.id,todolistId:t.todolistId,model:{status:e.currentTarget.checked?o.Completed:o.New}})}),[t.task.id,t.todolistId]),c=Object(n.useCallback)((function(e){r({taskId:t.task.id,todolistId:t.todolistId,model:{title:e}})}),[t.task.id,t.todolistId]);return Object(it.jsxs)("li",{children:[Object(it.jsx)(ut.a,{checked:t.task.status===o.Completed,onChange:i,color:"primary"}),Object(it.jsx)(ot,{title:t.task.title,changeTitle:c}),Object(it.jsx)(f.a,{onClick:s,children:Object(it.jsx)(dt.a,{})})]},t.task.id)})),jt=s.a.memo((function(t){var e=t.demo,r=void 0!==e&&e,a=Object(u.a)(t,["demo"]),s=ft(mt).fetchTasks,i=ft(xt),c=i.changeTodolistFilter,d=i.deleteTodolistTC,l=i.updateTodolistTitleTC,p=pt();function b(){switch(a.todolist.filter){case"Active":return a.tasks.filter((function(t){return t.status===o.New}));case"Completed":return a.tasks.filter((function(t){return t.status===o.Completed}));default:return a.tasks}}Object(n.useEffect)((function(){r||s(a.todolist.id)}),[]);var h=Object(n.useCallback)(function(){var t=Object(k.a)(g.a.mark((function t(e,r){var n,s,i,c,o,d;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=mt.createTask({title:e,todolistId:a.todolist.id}),t.next=3,p(n);case 3:s=t.sent,mt.createTask.rejected.match(s)?(null===(i=s.payload)||void 0===i||null===(c=i.errors)||void 0===c?void 0:c.length)?(d=null===(o=s.payload)||void 0===o?void 0:o.errors[0],r.setError(d)):r.setError("Some error occured"):r.setTitle("");case 5:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),[a.todolist.id]),O=Object(n.useCallback)((function(){d(a.todolist.id)}),[a.todolist.id]),v=Object(n.useCallback)((function(t){l({id:a.todolist.id,title:t})}),[a.todolist.id]),x=Object(n.useCallback)((function(t){return c({todoListID:a.todolist.id,newFilterValue:t})}),[a.todolist.id]),m=function(t,e,r){return Object(it.jsx)(j.a,{variant:a.todolist.filter===t?"outlined":"text",onClick:function(){return x(t)},color:e,children:r})};return Object(it.jsxs)("div",{children:[Object(it.jsxs)("h3",{children:[Object(it.jsx)(ot,{title:a.todolist.title,changeTitle:v}),Object(it.jsx)(f.a,{onClick:O,disabled:"loading"===a.todolist.entityStatus,children:Object(it.jsx)(dt.a,{})})]}),Object(it.jsx)(ct,{addItem:h,disabled:"loading"===a.todolist.entityStatus}),Object(it.jsxs)("ul",{style:{listStyle:"none",padding:"0px"},children:[b().map((function(t){return Object(it.jsx)(bt,{task:t,todolistId:a.todolist.id},t.id)})),!b().length&&Object(it.jsx)("div",{style:{padding:"10px",color:"grey"},children:"No task"})]}),Object(it.jsxs)("div",{style:{padding:"10px"},children:[m("All","default","All"),m("Active","primary","Active"),m("Completed","secondary","Completed")]})]})})),ht=r(16),Ot=function(t){return t.auth.isLoggedIn},vt=function(t){var e=t.demo,r=void 0!==e&&e;Object(u.a)(t,["demo"]);Object(n.useEffect)((function(){!r&&i&&o()}),[]);var a=Object(v.c)((function(t){return t.todolists})),s=Object(v.c)((function(t){return t.tasks})),i=Object(v.c)(Ot),c=pt(),o=ft(xt).fetchTodolistsTC,d=Object(n.useCallback)(function(){var t=Object(k.a)(g.a.mark((function t(e,r){var a,n,s,i,o,d;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=xt.createTodolistTC(e),t.next=3,c(a);case 3:n=t.sent,xt.createTodolistTC.rejected.match(n)?(null===(s=n.payload)||void 0===s||null===(i=s.errors)||void 0===i?void 0:i.length)?(d=null===(o=n.payload)||void 0===o?void 0:o.errors[0],r.setError(d)):r.setError("Some error occured"):r.setTitle("");case 5:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),[]),l=a.map((function(t){var e=s[t.id];return Object(it.jsx)(et.a,{item:!0,children:Object(it.jsx)(rt.a,{elevation:6,style:{padding:"0 15px 15px 15px"},children:Object(it.jsx)(jt,{todolist:t,tasks:e,demo:r},t.id)})},t.id)}));return i?Object(it.jsxs)(it.Fragment,{children:[Object(it.jsx)(et.a,{container:!0,style:{padding:"20px 0px"},children:Object(it.jsx)(ct,{addItem:d})}),Object(it.jsx)(et.a,{container:!0,style:{padding:"20px 0px"},spacing:3,children:l})]}):Object(it.jsx)(ht.a,{to:"/login"})},xt=Object(x.a)(Object(x.a)({},Z),J.actions),mt=Object(x.a)(Object(x.a)({},X),tt.actions),gt=J.reducer,kt=tt.reducer,yt=r(182),It=r(188),wt=r(185);function Ct(t){return Object(it.jsx)(wt.a,Object(x.a)({elevation:6,variant:"filled"},t))}function Tt(){var t=Object(v.c)((function(t){return t.app.error})),e=ft(N).setAppError,r=(Object(v.b)(),null!==t),a=function(t,r){"clickaway"!==r&&e({error:null})};return Object(it.jsx)(It.a,{open:r,autoHideDuration:6e3,onClose:a,children:Object(it.jsx)(Ct,{onClose:a,severity:"error",children:t})})}var St=r(44),At=r(189),Et=r(170),Lt=r(176),Ft=r(177),Pt=r(90),Dt=N.setAppStatus,Rt=Object(z.c)("auth/login",function(){var t=Object(k.a)(g.a.mark((function t(e,r){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.dispatch(Dt({status:"loading"})),t.prev=1,t.next=4,P(e);case 4:if(0!==(a=t.sent).data.resultCode){t.next=10;break}return r.dispatch(Dt({status:"succeeded"})),t.abrupt("return",{isLoggedIn:!0});case 10:return t.abrupt("return",V(a.data,r));case 11:t.next=16;break;case 13:return t.prev=13,t.t0=t.catch(1),t.abrupt("return",M(t.t0,r));case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e,r){return t.apply(this,arguments)}}()),zt=Object(z.c)("auth/logout",function(){var t=Object(k.a)(g.a.mark((function t(e,r){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.dispatch(Dt({status:"loading"})),t.prev=1,t.next=4,R();case 4:if(0!==(a=t.sent).data.resultCode){t.next=10;break}return r.dispatch(Dt({status:"succeeded"})),t.abrupt("return");case 10:return t.abrupt("return",V(a.data,r));case 11:t.next=16;break;case 13:return t.prev=13,t.t0=t.catch(1),t.abrupt("return",M(t.t0,r));case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e,r){return t.apply(this,arguments)}}()),Nt={login:Rt,logout:zt},Vt=Object(z.d)({name:"auth",initialState:{isLoggedIn:!1},reducers:{setIsLoggedIn:function(t,e){t.isLoggedIn=e.payload.value}},extraReducers:function(t){t.addCase(Rt.fulfilled,(function(t){t.isLoggedIn=!0})).addCase(zt.fulfilled,(function(t){t.isLoggedIn=!1}))}}),Mt=Vt.reducer,Wt=(Vt.actions.setIsLoggedIn,function(){var t=pt(),e=Object(v.c)(Ot),r=Object(Pt.a)({initialValues:{email:"",password:"",rememberMe:!1},onSubmit:function(){var e=Object(k.a)(g.a.mark((function e(r,a){var n,s,i,c,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(qt.login(r));case 2:n=e.sent,Rt.rejected.match(n)&&(null===(s=n.payload)||void 0===s||null===(i=s.fieldsErrors)||void 0===i?void 0:i.length)&&(o=null===(c=n.payload)||void 0===c?void 0:c.fieldsErrors[0],a.setFieldError(o.field,o.error));case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),validate:function(t){var e={};return t.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(t.email)||(e.email="Invalid email address"):e.email="Required",t.password?t.password.length<4&&(e.password="Password must be more than 4 characters!"):e.password="Password is required!",e}});return e?Object(it.jsx)(ht.a,{to:"/"}):Object(it.jsx)(et.a,{container:!0,justify:"center",children:Object(it.jsx)(et.a,{item:!0,xs:4,children:Object(it.jsx)("form",{onSubmit:r.handleSubmit,children:Object(it.jsxs)(At.a,{children:[Object(it.jsxs)(Et.a,{children:[Object(it.jsxs)("p",{children:["To log in get registered",Object(it.jsx)("a",{href:"https://social-network.samuraijs.com/",target:"_blank",children:"here"})]}),Object(it.jsx)("p",{children:"or use common test account credentials:"}),Object(it.jsx)("p",{children:"Email: free@samuraijs.com"}),Object(it.jsx)("p",{children:"Password: free"})]}),Object(it.jsxs)(Lt.a,{children:[Object(it.jsx)(nt.a,Object(x.a)({label:"Email",margin:"normal"},r.getFieldProps("email"))),r.touched&&r.errors.email?Object(it.jsx)("div",{style:{color:"red"},children:r.errors.email}):null,Object(it.jsx)(nt.a,Object(x.a)({type:"password",label:"Password",margin:"normal"},r.getFieldProps("password"))),r.touched&&r.errors.password?Object(it.jsx)("div",{style:{color:"red"},children:r.errors.password}):null,Object(it.jsx)(Ft.a,{label:"Remember me",control:Object(it.jsx)(ut.a,Object(x.a)({},r.getFieldProps("rememberMe")))}),Object(it.jsx)(j.a,{type:"submit",variant:"contained",color:"primary",children:"Login"})]})]})})})})}),qt=Object(x.a)(Object(x.a)({},Nt),Vt.actions),Bt=(Vt.reducer,r(178)),Ht=function(t){return t.app.status},Ut=function(t){return t.app.isInitialized},Zt=Object(z.c)("app/initializeApp",function(){var t=Object(k.a)(g.a.mark((function t(e,r){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r.dispatch,t.next=3,D();case 3:0===t.sent.data.resultCode&&a(qt.setIsLoggedIn({value:!0}));case 5:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()),Jt={initializeApp:Zt},Kt=Object(z.d)({name:"app",initialState:{status:"idle",error:null,isInitialized:!1},reducers:{},extraReducers:function(t){t.addCase(Zt.fulfilled,(function(t,e){t.isInitialized=!0})).addCase(N.setAppStatus,(function(t,e){t.status=e.payload.status})).addCase(N.setAppError,(function(t,e){t.error=e.payload.error}))}}),$t=Kt.reducer,_t=Kt.actions,Yt=Object(x.a)(Object(x.a)({},_t),Jt),Gt=function(t){var e=t.demo,r=void 0!==e&&e,s=(Object(u.a)(t,["demo"]),Object(v.c)(Ht)),i=Object(v.c)(Ut),c=Object(v.c)(a.selectIsLoggedIn),o=ft(qt).logout,d=ft(Yt).initializeApp;Object(n.useEffect)((function(){r||d()}),[]);var x=Object(n.useCallback)((function(){o()}),[]);return i?Object(it.jsxs)("div",{className:"App",children:[Object(it.jsx)(Tt,{}),Object(it.jsxs)(l.a,{position:"static",children:[Object(it.jsxs)(p.a,{style:{display:"flex",justifyContent:"space-between"},children:[Object(it.jsx)(f.a,{edge:"start",color:"inherit","aria-label":"menu",children:Object(it.jsx)(O.a,{})}),Object(it.jsx)(b.a,{variant:"h6",children:"TodoList"}),Object(it.jsx)(St.b,{to:"/login",children:!c&&Object(it.jsx)(j.a,{variant:"outlined",color:"inherit",children:"Login"})}),c&&Object(it.jsx)(j.a,{variant:"outlined",color:"inherit",onClick:x,children:"LogOut"})]}),"loading"===s&&Object(it.jsx)(yt.a,{color:"secondary"})]}),Object(it.jsx)(h.a,{fixed:!0,style:{padding:"20px 0px"},children:Object(it.jsxs)(ht.d,{children:[Object(it.jsx)(ht.b,{path:"/",exact:!0,render:function(){return Object(it.jsx)(vt,{demo:r})}}),Object(it.jsx)(ht.b,{path:"/login",render:function(){return Object(it.jsx)(Wt,{})}}),Object(it.jsx)(ht.b,{path:"/404",render:function(){return Object(it.jsx)("div",{children:"404 page not found"})}}),Object(it.jsx)(ht.a,{from:"*",to:"/404"})]})})]}):Object(it.jsx)("div",{style:{position:"fixed",top:"30%",textAlign:"center",width:"100%"},children:Object(it.jsx)(Bt.a,{})})},Qt=r(50),Xt=Object(lt.c)({tasks:kt,todolists:gt,app:$t,auth:Mt}),te=Object(z.a)({reducer:Xt,middleware:function(t){return t().prepend(Qt.a)}});window.store=te,c.a.render(Object(it.jsx)(v.a,{store:te,children:Object(it.jsx)(St.a,{children:Object(it.jsx)(Gt,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[132,1,2]]]);
//# sourceMappingURL=main.5333761f.chunk.js.map